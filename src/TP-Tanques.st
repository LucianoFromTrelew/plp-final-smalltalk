Object subclass: #Escenario	instanceVariableNames: 'unidades'	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!Escenario methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/24/2018 21:42'!unidades	^ unidades! !!Escenario methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/24/2018 21:42'!unidades: anObject	unidades := anObject! !!Escenario methodsFor: 'as yet unclassified' stamp: 'papablo 6/26/2018 00:46'!batallaEntre: unaUnidad y: otraUnidad	"Dos unidades se atacan hasta que alguna quede sin tanques vivos"	[ (unaUnidad tengoTanquesVivos) and: (otraUnidad tengoTanquesVivos) ]		whileTrue: [ 			unaUnidad atacarUnidad: otraUnidad.			otraUnidad atacarUnidad: unaUnidad.		].! !!Escenario methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 21:54'!agregarUnidad: unaUnidad	"Agrega una unidad al escenario"		unidades ifNil: [ self unidades: Set new ].		unidades add: unaUnidad.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Escenario class	instanceVariableNames: 'escenario'!!Escenario class methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 21:40'!getEscenario	"Metodo de acceso al escenario (SINGLETON)"	escenario ifNil: [ escenario := self basicNew initialize ].	^ escenario.! !!Escenario class methodsFor: 'instance creation' stamp: 'LucianoFromTrelew 6/24/2018 21:38'!new	"comment stating purpose of message"	self error: 'Singleton class -- use getEscenario'! !Object subclass: #Misil	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!Misil methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 16:51'!calcularCoeficientePerdida	"Devuelve el coeficiente de perdida por precision"	^ self show: ShouldNotImplement.! !!Misil methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/22/2018 22:54'!calcularDanio: unTanque	"Devuelve el danio que le haria al tanque unTanque"	^ self show: ShouldNotImplement! !Misil subclass: #Bazooka	instanceVariableNames: 'cabezasNucleares'	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!Bazooka methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/22/2018 22:27'!cabezasNucleares	^ cabezasNucleares! !!Bazooka methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/24/2018 16:12'!cabezasNucleares: cantidad	( cantidad > 0 & cantidad <= 4 ) 		ifTrue: [ cabezasNucleares := cantidad ]		ifFalse: [ cabezasNucleares := 0 ]! !!Bazooka methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 16:51'!calcularCoeficientePerdida	"Devuelve el coeficiente de perdida por precision"	^ 2/5.! !!Bazooka methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 15:59'!calcularDanio: unTanque	"Devuelve el danio que le haria al tanque unTanque"	^ 5 * (self cabezasNucleares).! !!Bazooka methodsFor: 'converting' stamp: 'papablo 6/26/2018 00:20'!asString^ 'Bazooka con ', cabezasNucleares asString, ' cabezas nucleares.'! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Bazooka class	instanceVariableNames: ''!!Bazooka class methodsFor: 'initialization' stamp: 'LucianoFromTrelew 6/24/2018 19:57'!nuevaConCabezasNucleares: cantidad	"Devuelve una bazooka con <cantidad> cabezas nucleares "	Transcript show: 'nueva bazooka con ', cantidad asString, ' cabezas nucleares'; cr.	^ (self new) cabezasNucleares: cantidad.! !Misil subclass: #Groso	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!Groso methodsFor: 'converting' stamp: 'papablo 6/26/2018 00:15'!asString^ 'Misil Groso'! !!Groso methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 16:51'!calcularCoeficientePerdida	"Devuelve el coeficiente de perdida por precision"	^ 3/5! !!Groso methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 16:19'!calcularDanio: unTanque 	"Devuelve el danio que le haria al tanque unTanque"	 ^ 100! !Object subclass: #Tanque	instanceVariableNames: 'coraza otro tripulantes velocidadAcutal nombre misiles'	classVariableNames: 'cantidadInicialMuniciones velocidadMaxima'	poolDictionaries: ''	category: 'TP-Tanques'!!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/26/2018 00:49'!atacarUnidad: unaUnidad|unTanque|unTanque := unaUnidad obtenerTanqueVivo.(unTanque) ifNotNil: [ self atacarTanque: unTanque ]! !!Tanque methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/25/2018 20:28'!puedoDispararEnMovimiento^ (self puedoDisparar) & (tripulantes >= 3)! !!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 13:11'!tengoTripulantes^ tripulantes > 0! !!Tanque methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/25/2018 21:57'!calcularDanioInflingido: unDanio"Devuelve el danio total que se le inflingiria al tanque"^unDanio! !!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 13:03'!esGolpeFuerte: unDanio^ unDanio > 50! !!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 22:54'!atacarTanque: unTanque|unMisil unDanio|unMisil := self obtenerMisilAleatorio.unDanio := self calcularDanioTotalPara: unTanque con: unMisil.unTanque inflingirDanio: unDanio.Transcript show: 				nombre asString, ' ataca a ', unTanque nombre asString,				' con ', unMisil asString ,				'. Daño total : ', unDanio asString; cr.! !!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 13:13'!emitoCalor^ (tripulantes > 3) or: (self estoyEnMovimiento)! !!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 23:50'!calcularDanioTotalPara: unTanque con: unMisil"Calcula el danio total que se la aplicaria a unTanque si se le dispara el misil unMisil"| unDanio | unDanio := unMisil calcularDanio: unTanque.^ unDanio - (self calcularPerdidaDanio: unTanque con: unMisil) .! !!Tanque methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/25/2018 22:36'!inflingirDanio: unDanio"Inflinge el danio unDanio al tanque"(unDanio > 0) ifTrue: [ 	(self esGolpeFuerte: unDanio) ifTrue: [ self tripulantes: (tripulantes - 1) ].	self coraza: coraza - (self calcularDanioInflingido: unDanio) ].! !!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 13:42'!puedoDisparar^ (misiles size) > 0.! !!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 13:11'!estoyEnMovimiento^ velocidadAcutal > 0! !!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 12:42'!cargarMisiles"Cada tipo de tanque se carga con los misiles que sabe"^ self show: ShouldNotImplement! !!Tanque methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/25/2018 22:24'!calcularPerdidaDanio: unTanque con: unMisil"Devuelve la perdida de danio por precision de ambos tanques con el misil unMisil"^ ((self velocidadActual + unTanque velocidadActual) / 2) * (unMisil calcularCoeficientePerdida) ! !!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/26/2018 00:17'!estoyVivo(coraza > 0) ifTrue: [ (self tengoMunicion) ifTrue: [ ^true ] ifFalse: [ ^(self tengoTripulantes) ] ] ifFalse: [ ^false ].! !!Tanque methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 13:10'!tengoMunicion^ (misiles isNotEmpty)! !!Tanque methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/25/2018 20:26'!obtenerMisilAleatorio"Quitamos un misil at random de la colección y lo devolvemos"^ misiles remove: (misiles atRandom)! !!Tanque methodsFor: 'converting' stamp: 'papablo 6/25/2018 23:03'!asString^ nombre asString,	' |V: ', velocidadAcutal asString,	', T: ', tripulantes asString, 	', C: ', coraza asString, '|'! !!Tanque methodsFor: 'initialization' stamp: 'papablo 6/25/2018 23:40'!initializemisiles := Bag new.! !!Tanque methodsFor: 'accessing' stamp: 'papablo 6/25/2018 12:32'!nombre: anObject	nombre := anObject! !!Tanque methodsFor: 'accessing' stamp: 'papablo 6/25/2018 12:31'!coraza	^ coraza! !!Tanque methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/25/2018 22:24'!velocidadActual	^ velocidadAcutal! !!Tanque methodsFor: 'accessing' stamp: 'papablo 6/25/2018 23:56'!velocidadActual: anObject	velocidadAcutal := anObject! !!Tanque methodsFor: 'accessing' stamp: 'papablo 6/25/2018 12:32'!tripulantes	^ tripulantes! !!Tanque methodsFor: 'accessing' stamp: 'papablo 6/25/2018 12:31'!coraza: anObject	coraza := anObject! !!Tanque methodsFor: 'accessing' stamp: 'papablo 6/25/2018 12:32'!tripulantes: anObject	tripulantes := anObject! !!Tanque methodsFor: 'accessing' stamp: 'papablo 6/25/2018 12:32'!nombre	^ nombre! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Tanque class	instanceVariableNames: ''!!Tanque class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 22:30'!quienSoy^ 'Tanque Cómun'! !!Tanque class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 23:56'!crearConNombre: unNombre unaCoraza: unaCoraza yUnosTripulantes: unaCantidadTripulantes"Crea un tanque con velocidad 0, el nombre, la coraza y la cantidad de tripulantes que se le pasen"|unTanque|unTanque := self new.unTanque nombre: unNombre ; coraza: unaCoraza ; tripulantes: unaCantidadTripulantes ; velocidadActual: 0.unTanque cargarMisiles.^ unTanque! !!Tanque class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 13:59'!crearConNombre: unNombre^ self show: ShouldNotImplement ! !Tanque subclass: #TanqueLiviano	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!TanqueLiviano methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 22:07'!cargarMisilesmisiles add: Groso new ; 			add: Termico new;			add: (Bazooka nuevaConCabezasNucleares: 4); 			add: Termico new;			add: Groso new;			add: Groso new ; 			add: Termico new;			add: (Bazooka nuevaConCabezasNucleares: 3); 			add: Termico new;			add: Groso new;			add: Groso new ; 			add: Termico new;			add: (Bazooka nuevaConCabezasNucleares: 3); 			add: Termico new;			add: Groso new.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TanqueLiviano class	instanceVariableNames: ''!!TanqueLiviano class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 22:41'!quienSoy^ 'Tanque Liviano'! !!TanqueLiviano class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 13:57'!crearConNombre: unNombre| unTanque unaCantidadTripulantes unaCoraza |cantidadInicialMuniciones := 15.velocidadMaxima := 70.unaCantidadTripulantes := 5.unaCoraza := 100.unTanque := self crearConNombre: unNombre unaCoraza: unaCoraza yUnosTripulantes: unaCantidadTripulantes.^ unTanque! !TanqueLiviano subclass: #TanqueBlindajeEM	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!TanqueBlindajeEM methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/25/2018 21:57'!calcularDanioInflingido: unDanio^unDanio*0.8! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TanqueBlindajeEM class	instanceVariableNames: ''!!TanqueBlindajeEM class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 22:42'!quienSoy^ 'Tanque con Blindaje EM'! !!TanqueBlindajeEM class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 14:02'!crearConNombre: unNombre| unTanque|unTanque := super crearConNombre: unNombre.^ unTanque! !Tanque subclass: #TanquePesado	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!TanquePesado methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 22:06'!cargarMisilesmisiles add: Groso new ; 			add: Termico new;			add: (Bazooka nuevaConCabezasNucleares: 4); 			add: Termico new;			add: Groso new;			add: Groso new ; 			add: Termico new;			add: (Bazooka nuevaConCabezasNucleares: 5); 			add: Termico new;			add: Groso new;			add: Termico new;			add: (Bazooka nuevaConCabezasNucleares: 3); 			add: Termico new;			add: Groso new;			add: Termico new;			add: (Bazooka nuevaConCabezasNucleares: 2); 			add: Termico new;			add: Groso new;			add: (Bazooka nuevaConCabezasNucleares: 1); 			add: Termico new;			add: Groso new.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TanquePesado class	instanceVariableNames: ''!!TanquePesado class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 22:42'!quienSoy ^ 'Tanque Pesado'! !!TanquePesado class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 14:00'!crearConNombre: unNombre| unTanque unaCantidadTripulantes unaCoraza |cantidadInicialMuniciones := 20.velocidadMaxima := 50.unaCantidadTripulantes := 4.unaCoraza := 150.unTanque := self crearConNombre: unNombre unaCoraza: unaCoraza yUnosTripulantes: unaCantidadTripulantes.^ unTanque! !Tanque subclass: #TanqueRapido	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!TanqueRapido methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 22:07'!cargarMisilesmisiles add: (Bazooka nuevaConCabezasNucleares: 4); 			add: Termico new;			add: Groso new;			add: (Bazooka nuevaConCabezasNucleares: 1); 			add: Termico new;			add: Groso new;			add: (Bazooka nuevaConCabezasNucleares: 2); 			add: Termico new;			add: Groso new;			add: (Bazooka nuevaConCabezasNucleares: 3).! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TanqueRapido class	instanceVariableNames: ''!!TanqueRapido class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 22:42'!quienSoy^ 'Tanque Rapido'! !!TanqueRapido class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 16:28'!crearConNombre: unNombre| unTanque unaCantidadTripulantes unaCoraza |cantidadInicialMuniciones := 10.velocidadMaxima := 100.unaCantidadTripulantes := 3.unaCoraza := 75.unTanque := self crearConNombre: unNombre unaCoraza: unaCoraza yUnosTripulantes: unaCantidadTripulantes.^ unTanque! !TanqueRapido subclass: #TanqueDron	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!TanqueDron methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 16:51'!calcularPerdidaDanio: unTanque con: unMisil^ 0! !!TanqueDron methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 23:39'!cargarMisilesmisiles add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4);  add: (Bazooka nuevaConCabezasNucleares: 4).! !!TanqueDron methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 22:43'!quienSoy^ 'Tanque Dron'! !!TanqueDron methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 23:49'!estoyVivo^ true! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TanqueDron class	instanceVariableNames: ''!!TanqueDron class methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 23:29'!quienSoy^ 'Tanque Dron'! !Misil subclass: #Termico	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!Termico methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 16:51'!calcularCoeficientePerdida	"Devuelve el coeficiente de perdida por precision"	^ 0! !!Termico methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 16:57'!calcularDanio: unTanque	"Devuelve el danio que le haria al tanque unTanque"	unTanque emitoCalor		ifTrue: [ ^ (self class puntosDanio) ]		ifFalse: [ ^ 0 ]! !!Termico methodsFor: 'converting' stamp: 'papablo 6/26/2018 00:15'!asString^ 'Misil Térmico'! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Termico class	instanceVariableNames: 'puntosDanio'!!Termico class methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/24/2018 16:55'!puntosDanio: anObject	puntosDanio := anObject! !!Termico class methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/24/2018 17:11'!puntosDanio	puntosDanio isNil		ifTrue: [ ^ 25 ]		ifFalse: [ ^ puntosDanio ]! !Object subclass: #Unidad	instanceVariableNames: 'nombre tanques'	classVariableNames: ''	poolDictionaries: ''	category: 'TP-Tanques'!!Unidad methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/24/2018 19:48'!tanques	^ tanques! !!Unidad methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/24/2018 19:48'!nombre	^ nombre! !!Unidad methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/24/2018 19:48'!tanques: anObject	tanques := anObject! !!Unidad methodsFor: 'accessing' stamp: 'LucianoFromTrelew 6/24/2018 19:48'!nombre: anObject	nombre := anObject! !!Unidad methodsFor: 'converting' stamp: 'LucianoFromTrelew 6/24/2018 21:58'!asString	"Representacion de la Unidad"	^ 'Unidad ', nombre, ' con [', (self obtenerTanquesVivos size asString), '/', tanques size asString, '] tanques vivos'. ! !!Unidad methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 23:51'!atacarUnidad: unaUnidad	"Los tanques vivos de la unidad atacan a cualquiera de los tanques vivos de unaUnidad"		Transcript show: self nombre asString, ' ATACA A ', unaUnidad nombre asString; cr ;					show: 'ANTES: '; cr.						self mostrarTanques.		unaUnidad mostrarTanques.			self obtenerTanquesVivos collect: [ :tanque | tanque atacarUnidad: unaUnidad ].		Transcript show: 'DESPUES: ';cr.		self mostrarTanques.		unaUnidad mostrarTanques.! !!Unidad methodsFor: 'as yet unclassified' stamp: 'papablo 6/26/2018 00:50'!obtenerTanqueVivo(self tengoTanquesVivos) ifTrue: [ ^ (self obtenerTanquesVivos) atRandom  ] ifFalse: [ ^nil ]! !!Unidad methodsFor: 'as yet unclassified' stamp: 'papablo 6/25/2018 23:02'!mostrarTanquesself tanques collect: [ :tanque | Transcript show: tanque; cr ].Transcript show: '=======================';cr.! !!Unidad methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 19:47'!obtenerTanquesVivos	"Devuelve los tanques vivos de una unidad"		^ self tanques select: [ :tanque | tanque estoyVivo ]! !!Unidad methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 19:59'!moverseA: unaVelocidad	"Hace que todos los tanques vivos de una unidad se muevan a velocidad unaVelocidad (o la mas cercana posible)"	self obtenerTanquesVivos collect: [ :tanque | tanque setVelocidadActual: unaVelocidad ].! !!Unidad methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 21:23'!tengoTanquesVivos	"Indica si la unidad tiene tanques vivos"	^ (self obtenerTanquesVivos) isEmpty not.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Unidad class	instanceVariableNames: ''!!Unidad class methodsFor: 'as yet unclassified' stamp: 'LucianoFromTrelew 6/24/2018 19:58'!nuevaConNombreYTanques: unNombre y: unaColTanques	"Devuelve una unidad con su nombre y sus tanques"	^ (self new) nombre: unNombre; tanques: unaColTanques.! !